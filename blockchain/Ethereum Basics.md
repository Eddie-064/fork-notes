# 以太坊基础知识

我目前的认识：

- **以太坊区块链是一台去中心化计算机，可以运行任何图灵完备的程序（合约），对合约的每次访问都被看作一
  次链上交易**
- 运行在以太坊区块链上的合约，是永远不会宕机的程序，天生就是分布式的
- 交易需要付给矿工一定的燃料费（Gas），可以通过增加燃料费来加速交易
  - Gas 是一个与 Ether 脱钩的计量单位，1 Ether = 10^9 Gwei = 10^18 Wei
  - Mirror 上发文都得专门选 Gas 低的时间段发，当前 Gas 价格之高可见一斑
  - 以当前 1Ether = $2130 计算，目前 1Gas 大约中值为 80Gwei，一次交易的收费上限为 21,000 Gas，超过
    $3 了，普通人根本玩不起。
  - 在区块链不拥堵的情况下，Gas 的正常价格应该在 20 Gwei 以下...

## 交易

交易由外部账户发起，由以太坊网络传输，并记录在以太坊区块链上。交易是唯一改变以太坊区块链状态、或者执
行一个合约的方法。

交易的结构：

- Nonce: 由外部账户生成的一个序列号
  - 两个用途：一是避免交易被重复提交，二是确保区块链会按提交顺序处理交易（避免后提交的交易反而先被执
    行）
- Gas 价格: 用户愿意付的 Gas 单价（以 Ether Wei 为单位，不过为了方便通常使用 Gwei 作为展示单位）
- Gas 上限：用户愿意为此次交易付出的最大 Gas 数量
- Recipient: 接受者的以太坊地址
- Value: 发送给接收者的 Ether 数量（以 Ether Wei 为单位）
- Data: 变长二进制数据，主要用于提交合约参数
- v,r,s: 外部账户 ECDSA 签名的三个部分
  - 从 v,r,s 中可以推导出外部账户的公钥，进而派生出账户 ID，因此交易中不单独记录外部账户的 ID

### Gas

Gas 就是付给矿工的小费。其目的，一是提升矿工的积极性，使他们愿意为以太坊贡献算力；二是用于计量合约的
执行时间，避免死循环合约无法停止、平白浪费区块链中的算力。

Gas 跟 Ether 是分离的，有一个汇率在中间。这是为了避免 Ether 价格的剧烈波动影响到 Gas.

用户需要在交易中设定愿意付出的 Gas 单价，出价越高，矿工们就越愿意处理你的交易，交易速度就越快。

<https://ethgasstation.info/> 这个站点显示了当前市场上的 Gas 汇率以及对应的交易速度。

以太坊允许将交易中的 Gas 单价设置为 0，但是这可能会导致你的交易永远不会被处理。

而交易中的 GasLimit，是你愿意为此次交易付出的 Gas 数量的上限。对于普通的转账交易，Gas Limit 的值固定
为 21000. 而如果交易对象是一个合约，那就要看合约具体会执行多久了，程序导致要跑多久是很难估算的，通常
你发起交易的时候你的钱包客户端（如 metamask）会给出一个预估值，但是不一定准确。

因此能看到，GasLimit 其实是专为合约设计的。矿工跑合约时是按实际用量收费的，如果运行费用没超过
GasLimit 那自然是用了多少就扣你多少；如果合约运行的费用超过了限制，矿工会立即停止执行，并将交易标记
为失败，同时会从你的账户中扣掉 GasPrice \* GasLimit 这么多的 Ether Wei. 注意即使运行失败也会扣钱哈！
毕竟矿工已经出了力了。

### 交易接收地址

接收地址可以是一个任意的 20bytes 以太坊地址。如果这个地址目前不存在，交易仍然是有效的，只是谁也收不
到这个钱，可以认为这个钱就被销毁了。所以说交易一定要谨慎，安全起见可以先转一点点钱过去确认下！

### Value 跟 Data

Data 主要是给合约用的，Value 则可用于合约或者外部账户之间的转账。

如果一个合约要允许接收 Ether，它必须声明自己为 payable 的，并且提供对应的 receive 函数。

### 特殊交易 - 创建合约

创建合约是一个特殊的交易，这个交易的接收地址必须为 `0x0`，这个地址既不是外部账户也不是合约，它只是一
个特殊符号，用于表示「创建合约」这个动作。

将 Ether 发送给 `0x0` 也能达到销毁 Ether 的目的，但是通常更建议使用
`0x000000000000000000000000000000000000dEaD` 来实现这个目的，这是一个专门用于销毁 Ether 的地址。

### 交易的传输与记录

以太坊的节点之间通过 P2P 网络互联，当用户提交一个交易到某个节点时，这个节点首先会将交易发送给它的邻
居节点（至少有 13 个这样的节点），邻居节点验证其有效后，会将其广播到它的其他邻居节点，这样最终这项交
易就记录在整个区块链中了。

当交易被记录之后，下一步就是矿工来执行了，各位矿工会尝试通过 PoW 算法抢先完成交易的记录或者合约的执
行，并广播到整个区块链中，最先完成记录的矿工将获得对应的 Gas 奖励。

### 多签名交易

比特币中也存在这样的多签名账户：只有该账户的所有持有者都对其签名后，这项交易才有效。

然而以太坊并不直接提供此项功能，它鼓励用户通过合约编程来实现多签名账户相同的能力。但是这被诟病的一点
是，合约写得不好就会有安全隐患（2017 年以太坊的多签名钱包漏洞造成价值 2.8 亿美元的以太币被冻结），而
比特币的多签名账户已经经过多年验证是安全的。

## 智能合约

### 智能合约与 Solidity

「智能合约」是指在去中心化以太坊虚拟机上运行的不可变程序，并且要注意到以太坊虚拟机实际上是一个单线程
的计算机，不会存在并发执行的合约。

合约的一大特点是它是公开的且不可变的，因为它被存储在区块链上。这导致合约不可能被修改，要修 bug 只能
创建新的合约，但是这会导致所有用户都需要使用新的合约地址，所以说合约的修改就变得非常困难。

智能合约练习：https://github.com/OpenZeppelin/ethernaut

### 删除合约

合约不可变，但是可以被声明为「可删除」。

如果合约被声明为可删除，就可以通过发起一个交易，在 EVM 上执行 `SELFDESTRUCT` 命令删除掉该合约。删除
合约的交易会产生「负 Gas」，也就是退款，这是为了鼓励用户删除掉它不使用的合约。

删除合约只会删除其代码，但是所有的交易历史是不可删除的。

去中心化 APP = 智能合约 = Dapp

### 混合智能合约

通常一个智能合约，既需要在区块链上执行，同时又需要区块链之外，真实世界的数据，比如 Visa/PayPal 交易
信息、IPFS 数据存储、或者执行在线上执行某些计算，等等。

同时用到了链上与链下数据的的智能合约，被称为混合智能合约。

Chainlink - 去中心模块化的预言网络（Decentralized Modular Oracle Network）

### 智能合约的安全策略与最佳实践

> https://github.com/ethereumbook/ethereumbook/blob/develop/09smart-contracts-security.asciidoc

在编写智能合约时，安全性是最重要的考量点之一。智能合约的代码是完全公开的，而且任何人都可以调用它，这
导致其中的任何漏洞都代价高昂而且很容易被利用，并且损失基本上无法挽回。

历史上，最严重的智能合约漏洞是 The DAO 事件，因为影响范围实在太大了，它直接导致社区通过硬分叉来救
场。

最佳实践：

- 极简主义
- 重用社区的高质量代码库，不要重复造轮子
- 高质量的代码
  - 智能合约跟普通编程的区别在于，它犯错误的代价非常的高，所有损失都无法追回。
  - 因此它的质量要求与金融、军工、航空代码应该属于同一级别，必须在确保代码完全正确的情况下，才发布！
- 可读性与可审计：代码应当易于理解、易于阅读。
- 测试覆盖度：请尽可能地测试所有可能的输入，不应该假设输入具有某种正确的格式！

安全风险与反模式：

- [递归调用攻击（重入攻击）](https://gus-tavo-guim.medium.com/reentrancy-attack-on-smart-contracts-how-to-identify-the-exploitable-and-an-example-of-an-attack-4470a2d8dfe4)：
  每个合约都可以调用其他合约，包括它自己。
  - 真实案例：The DAO
  - 预防方法：
- 整数溢出（上溢/下溢）
  - 真实案例：
    - PoWHC and Batch Transfer Overflow (CVE-2018–10299)
    - [New batchOverflow Bug in Multiple ERC20 Smart Contracts (CVE-2018–10299)](https://peckshield.medium.com/alert-new-batchoverflow-bug-in-multiple-erc20-smart-contracts-cve-2018-10299-511067db6536)
  - 预防方法
- 强制发送以太币攻击
  - 有两种特殊情况，会导致合约被强制发送以太币而合约代码未执行，这可能会导致部分合约出现问题（它们可
    能假设代码总是会在收到以太币时被执行）。
- DELEGATECALL
  - 真实案例：Parity Multisig Wallet (Second Hack)
- Default Visibilities
- Entropy Illusion

待续，智能合约这一块之后再深入学习...

## Tokens 代币

代币是指在某些特定场景下，具有特定价值的一种货币。比如游戏厅的游戏币，QQ 中的 Q 币等等，各种现实中的
特殊硬币或者网络上的虚拟代币。

而以太坊上的代币，则是在区块链上的实现的一种代币机制。它跟以太币的区别是，任何公司都可以在以太坊上发
行自己的代币，比如腾讯就可以在以太坊上发行「以太坊 Q 币」。

区块链上的代币不受某个单独的实体控制，因此它可以具有更丰富的含义，比如：

- 货币：代币可以作为货币使用，其价值可通过与实际货币的交易，或者锚定某种实际的商品来确定。
- 资源：某种资源，比如某个共享算力池的存储或者 CPU 资源。
- 资产：代币可以代表内在或外在、有形或无形资产的所有权；例如，黄金、房地产、汽车、石油、能源、MMOG物
  品等。
- 产权：可代表某个法人实体（如公司）或数字机构（如 DAO）的股东权益
- 投票权：可代表某个公司或者数据机构的投票权
- 收藏品：可代表某个数字藏品（如 NFT）、或者物理藏品（如 梵高的画）
- 身份(ID)：代币可代表某个数字身份 ID，或者法人身份
- 认证：代币可代表某个权威机构或去中心化认证机构，对一个事实（例如，婚姻记录、出生证明、大学学位）的
  认证。
  - 类似你的结婚证、大学学位证
- 实用代币
  - 访问权：代币可用于代表某个网上论坛、现实中的酒店的访问权，相当于论坛账号或者酒店门卡
  - 特殊用途的虚拟货币：只能用于为某项服务付费，比如「虚拟游戏币」，只能用来为游戏充值。

一个最佳实践是：不要在区块链上发行「实用代币」，因为这类代币只能在非常有限的场景下体现出价值，而且它
仍然是由某个单独的公司或组织控制的。这样的代币理念上太狭隘了，「区块链」的去中心化特性完全没在这种代
币上体现出来。如果你需要用到这类代币，完全没必要在区块链上去实现！

### 代币与同质化

在经济学中，「同质化」是一种商品或商品的属性，其单个单位本质上是可互换的。虽然它们在细节上会存在一些
区别（比如每张人民币都有自己唯一的 ID），但是在功能与价值上它们是完全等价的。

而「非同质化」就是指一种商品或其属性，本质上是不可互换的，每个商品本质上都是唯一的。

按这样的分类，以太坊上的代币就分为了「同质化代币（可替代代币）」与「非同质化代币 NFT（不可替代代
币）」。

同质化代币跟普通货币的性质相同，比如虽然每张人民币自己都有唯一的 ID，但是在使用上它们的价值与功能没
有任何区别。

而每个 NFT 都是代表了某个独一无二的虚拟收藏品或者物理收藏品，因此不可互换、无法分隔，且具有收藏价
值。NFT 可以用于代表某件艺术品、游戏里的虚拟装备、甚至是现实中的房产证明等等。例如，代表特定梵高画作
所有权的代币并不等同于代表毕加索的另一个代币，即使它们可能是同一「艺术品所有权代币」系统的一部分。同
样，代表特定数字收藏品（例如特定 CryptoKitty）的代币不能与任何其他 CryptoKitty 互换。

每个不可替代的代币都与一个唯一标识符相关联，例如序列号。

### 非同质化代币 NFT

前面已经介绍了 NFT 的概念，基础概念就略过了。

因为 NFT 发行在链上，只要链还存在，你拥有 NFT 的纪录就不会被窜改、抹灭、消失，在发行 NFT 代币的合约
中，会纪录着这个代币的识别讯息，可能仅是一串ID又或者会标注更多讯息，来证明这个代币可以代表的具体资
产，这些讯息就如同刚才所提的无法被篡改。就是因为这样独一无二、不可窜改、不可分割的特性，让 NFT 天生
就具备了能与特定资产挂钩，来证明资产归属权的性质。

这样的性质让 NFT 应用于游戏时，可以代表游戏虚宝，代表游戏里独特的角色，最著名的如CryptoKitties (谜恋
猫)，应用于艺术品时，可以代表画作、音乐版权、各种收藏品，最有名的莫如最近加密艺术家Bepple的作品
EVERYDAYS: THE FIRST 5000 DAYS 以6934万美金拍出，更不用说 NFT 还被广泛应用在数位证书、身份认证、域名
等各种行业领域。

那 NFT 到底怎么来的呢？ 在 2017 年底时 CryptoKitties 的 CTO Dieter Shirley 发布了EIP-721 (Ethereum
Implementation Proposal 721) ，与当时正火热、受ICO团队追捧的 ERC20 标准不同， ERC-721 的协议中第一次
提出了 NFT 这样不可置换代币的概念，其后包含谜恋猫在内就开始有了大量的 NFT 应用，直至今日越来越多人听
闻 NFT 艺术品拍卖价格屡创新高的消息。

那我如果想购买 NFT，是不是也是在交易所？买完的 NFT 我能放回自己的钱包？我要怎么在 NFT 项目中挑选想要
的项目？

可以说因为协议的多样化，以太坊几乎满足了所有 NFT 的需求，但也因为以太坊功能的强大，造成以太币价格的
高涨，而所有在以太坊上进行的交易，包含发行、销毁、增发、转移都需要用以太币作为矿工手续费，高昂的手续
费让一些具备了智能合约功能但手续费低廉的链因此窜起，其中币安智能链就是近来最具代表性的区块链。

由全世界最大的交易所币安开发的币安智能链，靠着低廉的矿工手续费，与以太坊完全相容的智能合约功能，快速
在 NFT 市场抢占了一席之地，其上所发行的 BEP721 与 BEP 1155，与 ERC721 及 ERC1155 有完全相同的功能与
特性，但手续费仅不到十分之一，加上币安交易所特地开设了 NFT 拍卖场专门协助发行人在币安智能链上发行
NFT，市占成长速度飞快。 此外，由最早开发出 NFT 协议的谜恋猫团队所开发的公链 FLOW 也已经上线，靠着对
NFT 独特的了解，FLOW 上的 NFT 协议甚至可以做到交易代付功能，让入门者不会受到任何手续费的困扰而无法进
行交易，同时 FLOW 团队了解到类似 NFT 的产品与生态，背后免不了需要大 IP 的支持，因此更拿到了 NBA Top
Shot 的 NFT 发行权。可以说具备了完整公链与强大 IP 的 FLOW，同样是创作者在发行 NFT 时一个难以舍弃的选
择。

### 信用风险与内在性

首先介绍下信用风险（Credit Risk），它是指交易对手未能履行约定契约中的义务而造成经济损失的风险。在某
些涉及超过两个实体的交易中可能会存在信用风险。比如 A 将自身持有的贵金属存款证明出售给 B，这项交易实
际涉及到三个实体：卖方 A、买方 B，以及贵金属的实际持有人 C. 一般来说，在使用代币间接交易某项资产时，
会有潜在的信用风险——C 是否真的持有对应的贵金属？C 是否会承认基于代币的转让而转让所有权给买方 B 么？

在代表资产的数字代币世界中，与在现实世界中一样，重要的是要了解谁持有代币所代表的资产以及适用于该基础
资产的规则。

现在再介绍下所谓代表资产的内在性。某些代币所代表的资产实际上就存在于区块链内，这些资产受区块链的共识
机制约束——就像代币本身一样，因此这类代币是不存在信用风险的。典型的例子就是 CryptoKitty 加密猫这类
NFT。

除此之外，也有非常多的 NFT 代表的是外在的资产，例如房地产、企业投票股份、商标和黄金。这些区块链外部
的资产，受法律、政策的约束，区块链的共识机制管不到它们。换句话说，代币的发行者和所有者可能仍然依赖于
现实世界的非智能合约。因此，这些外部资产带有额外的信用风险，因为它们由托管人持有、记录在区块链之外，
受区块链之外的法律和政策控制。

基于区块链的代币最重要的影响之一是能够将外在资产转换为内在资产，从而消除信用风险。一个很好的例子是从
公司的股权（区块链之外）转移到 DAO 或类似（区块链内）组织的股权或投票代币。

### 以太坊上的代币

区块链代币在以太坊之前就已经存在。某种程度上，最初的比特币本身就是一种代币。在以太坊之前，就已经存在
许多基于比特币或其他加密货币开发的代币平台。然而，以太坊上第一个代币标准的引入导致了代币的爆炸式增
长。

Vitalik Buterin 建议将代币作为通用可编程区块链（如以太坊）最明显和最有用的应用之一。事实上，在以太坊
的第一年，经常可以看到 Vitalik 和其他人穿着印有以太坊标志和背面智能合约样本的 T 恤。这件 T 恤有几种
变体，但最常见的是一种代币的实现。

在我们深入研究在以太坊上创建代币的细节之前，重要的是要了解代币在以太坊上的工作原理。代币与以太币不
同，因为以太坊协议对它们一无所知。以太坊账户的以太币余额在以太坊协议层面处理，而以太坊账户的代币余额
在智能合约层面处理。

为了在以太坊上创建一个新的代币，你必须创建一个新的智能合约。部署后，智能合约会处理所有事情，包括代币
的所有权、转让和访问权限。您可以编写智能合约以任何方式执行所有必要的操作，但遵循现有标准可能是最明智
的。

#### 同质化代币标准 ERC-20

以太坊的第一个代币标准由 Fabian Vogelsteller 于 2015 年 11 月作为以太坊征求意见 (ERC) 提出。GitHub
给这项 Issue 分配的 ID 是 20，因此得名「ERC20 代币」。ERC20 征求意见最终成为以太坊标准 EIP-20，但大
部分仍以原始名称 ERC20 来指代。目前绝大多数代币都基于 ERC20 标准。

[EIP-20](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md) 定义了使用智能合约实现一个代币
需要的所有通用接口。这样任何兼容的代币都可以以相同的方式被访问和使用。

下面是使用 solidity 描述这个接口标准的效果：

```solidity
contract ERC20 {
  // 返回当前存在的所有代币数量
  function totalSupply() constant returns (uint theTotalSupply);
  // 返回某个地址拥有的所有代币数量
  function balanceOf(address _owner) constant returns (uint balance);
  // 将指定数量的代币，从发起交易的地址，发送到指定的地址
  function transfer(address _to, uint _value) returns (bool success);
  // 申请将指定数量的代币，从一个地址发送到另一个地址（需要 approve 才能完成转移操作）
  function transferFrom(address _from, address _to, uint _value) returns (bool success);
  // 授权 _spender 这个地址发起多次转账，从发起 approve 请求的账户中转移代币，总数不超过指定的值
  function approve(address _spender, uint _value) returns (bool success);
  // 给定一个 _owner 地址与 _spender 地址，返回 _spender 当前可以从 _owner 转移走的代币的剩余数量
  function allowance(address _owner, address _spender) constant returns (uint remaining);

  // 代币成功转移时触发的事件（调用 transfer 或 transferFrom）
  // 即使是零值转移也同样会触发此事件
  event Transfer(address indexed _from, address indexed _to, uint _value);
  // approve 被成功调用时触发的事件
  event Approval(address indexed _owner, address indexed _spender, uint _value);
}
```

这其中比较特殊的就是 `transferFrom` `approve` `allowance` 这三个函数构成的工作流，它被称为「双事务工
作流」，这个工作流允许用户将自己部分代币的控制权委派给其他账户。它最常见的应用场景是「将代币委派给对
应的代币分发机构」，当然它也可被用于交易所。

#### ECR20 代币的潜在问题

ERC20 代币标准的采用确实具有爆炸性。目前社区已经推出了数千个代币，用于试验新功能并在各种「众筹」拍卖
和 ICO 中筹集资金。但是正如我们在将代币转移到合约地址的问题上看到的那样， ECR20 代币也存在一些潜在的
陷阱。

ERC20 代币不太明显的问题之一是它暴露了代币和以太币本身之间的细微差别。如果以太币通过以收件人地址为目
的地的交易进行转移，则代币转移发生在特定的代币合约状态中，并且以代币合约作为其目的地，而不是收件人的
地址。代币合约跟踪余额并发布事件。在代币转移中，实际上没有交易发送给代币的接收者。相反，收件人的地址
被添加到代币合约本身的 map 中存储。向地址发送以太币的交易会改变地址的状态，而将代币转移到一个地址的
交易只会改变代币合约的状态，而不是接收地址的状态。即使是支持 ERC20 代币的钱包也不会意识到代币余额发
生了变化，除非用户明确地将特定的代币合约添加到「Watch」中。一些钱包会 Watch 最流行的代币合约来检测他
们控制的地址持有的余额，但这仅限于现有 ERC20 合约的一小部分。

事实上，用户不太可能想要跟踪所有可能的 ERC20 代币合约中的所有余额。许多 ERC20 代币更像是垃圾邮件，而
不是可用的代币。这些垃圾代币合约会自动为有以太币活动的账户创建余额，以吸引用户。如果你有一个活动历史
悠久的以太坊地址，特别是如果它是在预售中创建的，你会发现它充满了不知从何而来的「垃圾」代币。当然，你
的账户并不是真的充满了代币，而是代币合约中包含您的地址。只有当您用来查看账户的区块浏览器或钱包正在监
视这些代币合约时，您才会看到这些「垃圾」代币。

代币的行为方式与以太币不同。以太币通过 send 函数发送，并被合约中的任何 payable function、或者任何外
部拥有的地址接收。而代币是使用仅存在于 ERC20 合约中的 transfer 或 approve & transferFrom 函数发送
的，并且不会（至少在 ERC20 中）触发接收者合约中的任何 payable function.

代币的功能跟以太币这样的加密货币类似，但它们确实存在某些值得注意的差异。

考虑另一个问题。要发送以太币或使用任何以太坊合约，您需要以太币来支付 gas。要发送代币，您还需要以太
币，因为你不能用代币支付交易的 gas，代币合约也不能为你支付 gas。这可能会在遥远的将来的某个时候改变，
但与此同时，这可能会导致一些相当奇怪的用户体验。例如，假设您使用交易所将一些比特币转换为代币，您在跟
踪了该代币合约的钱包中「接收」代币，这个操作看起来与您钱包中的任何其他加密货币相同。但是如果你尝试发
送代币，你的钱包会告诉你需要用以太币支付 gas 才能做到这一点。你可能会感到困惑——毕竟，你不需要以太币
来接收代币。也许你根本没有以太币，也许你甚至不知道这个代币是以太坊上的 ERC20 代币，也许你认为它是一
种拥有自己区块链的加密货币，你可能会不知所措。

上述问题中的一部分特定于 ERC20 代币，而另一部分则是与以太坊内的抽象和接口边界相关的更一般的问题。其
中有些问题可以通过改变代币接口来解决，而另一些可能需要改变以太坊内部的基本结构（例如 EOA 和合约之间
的区别，以及交易和消息之间的区别）。其中有些可能无法完全「解决」，并且可能需要 UI 设计来隐藏细微差别
并使用户体验保持一致，而不管潜在的区别如何。

ERC223 与 ERC777 是两个代币接口标准的草案，旨在解决代币的一部分潜在问题，这里就不详细介绍了。

#### 非同质化代币 NFT 标准

- [ERC-721](https://github.com/ethereum/EIPs/blob/master/EIPS/eip-721.md)
- ERC-1155

以 ECR-721 为例，NFT 就类似契约，它代表了对某个（虚拟或物理）物品的所有权。每个 NFT 都代表了一件独一
无二的物品的契约（所有权），它可以是虚拟的，比如游戏装备、数字收藏品，也可以是物理实体，比如房子、车
子、艺术品，还能用于表示一些负面的事物，比如贷款（债务）等。

ERC721 标准对其所跟踪的契约，所对应的物品没有任何限制，只要求它可以通过 256 位标识符唯一地标识。

#### NFT 的信用风险

NFT 只记录了当这个 NFT 铸造出来时，对应内容保存在哪里。ERC 721 标准不强制要求数据持久性，这是行业需
要自行解决的问题。**总结下就是，NFT 只解决所有权的区中心化问题，而它所代表的资源（数字藏品、房子、艺
术品）的安全问题，需要其他方案来解决**。

从真正去中心化的角度看，我们需要一个去中心化的、不受任何单个实体控制的、规模足够大的存储系统，来存储
NFT 数据，这样才能保证 NFT 对应数据的长期有效性、真实性、完整性。目前比较知名的去中心化存储系
统：IPFS、SWARM、Arweave 等，它们都可基于文件哈希值寻址，这个哈希值是唯一的，绝对可以在系统中找到它
的某个副本。

因此如果你在某些 NFT 交易平台上购买 NFT 时，一定要先搞清楚数据存放在哪，安全性、真实性、完整性、长期
有效性等等如何。中心化的存储我是无法接受的，说不定这家托管公司啥时候就垮了，那我的 NFT 还有效么？

另一个问题是，你购买的 NFT 对应的合约是否被大多数人认可？如果它的规模不够大，实际上可能存在 NFT 被否
认的风险。是否会因为区块链规模不够大，遭遇 51% 攻击导致 NFT 被盗走呢？创作者是否有可能在多个 NFT 合
约上出售同一个数字藏品的 NFT？那哪个算是有效的呢？更进一步如果创作者还跟其他人签了手续齐全的售卖合
同，那是这份合同有效呢？还是你的 NFT 有效？

总的来说，目前的 NFT 市场实际上仍然存在很多安全风险需要解决，还不够成熟。

### 拓展代币接口标准

ERC20 与 ECR721 这样的标准，都只提供了最小的一个接口集合，在实际应用中，社区添加了非常多的拓展接口，
以满足其他的需要，比如：

- 代币销毁功能
- 拍卖
- 权限控制：给某个特定的地址，特定权限的功能，比如黑名单、白名单等能力
- 黑白名单
  - 将操作（例如代币转移）限制在特定地址的能力。最常用于在通过不同司法管辖区的规则审查后向「合格投资
    者」提供代币。通常有一种更新白名单的机制。

### 代币的总结

代币一直是以太坊生态系统中的爆炸性发展。它们很可能会成为以太坊等所有智能合约平台的重要组成部分。

尽管如此，这些标准的重要性和未来影响不应与对当前代币产品的认可相混淆。与任何早期技术一样，第一波产品
和公司几乎都会失败，有些会失败得惊人。**今天在以太坊中提供的许多代币几乎都是伪装的骗局、传销和金钱掠
夺**。

诀窍是将这项技术的长期愿景和影响与充斥着欺诈的代币 ICO 的短期泡沫区分开来，这可能是巨大的。代币标准
和平台将在当前的代币狂热中幸存下来，然后它们可能会改变世界。结论

## 预言机 Oracles

在本章中，我们将讨论预言机 Oracles，它们是可以为以太坊智能合约提供外部数据源的系统。「预言」一词来自
希腊神话，指与众神交流的人，可以看到未来的景象。在区块链的背景下，预言机是一个可以回答以太坊外部问题
的系统。

首先我们要明确一个事实：「我们不可能把所有数据都存放在区块链上」，原因有很多，最明显的就是相比
MySQL/Redis 等中心化数据库、以及 clickhouse 等数据湖而言，区块链的交易实在太慢了，完全无法满足需求。
另外不同的数据库有不同的特性——海量的存储与查询分析、向量搜索、关系查询、地理位置搜索等等。另一个问题
是每个完整的区块链节点都需要存有区块链上所有的数据，因此整条区块链的大小是受限于单个节点的存储大小
的。这导致我们的大部分数据肯定仍然是需要存放在这些外部数据库中的，这也是为什么需要「Oracles」的原因
之一。

需要预言机的另一个原因是，EVM 是个确定性的系统，也就是说 EVM 中不存在真正的随机数（熵），相同输入应
该总是产生相同的输出，因为如果智能合约被允许使用真正的随机数，那每个 EVM 节点输出的结果都可能不一
样，就根本无法达成共识了。如果需要一个随机数，那它只能来自于区块链外部，在提交合约交易时通过 value
传入到区块链内，这样在链上的数据仍然是确定性的。

基于上述两个原因区块链上的智能合约也需要获取外部数据，但实际上来自外部的数据不受区块链的共识机制约
束，也就是说不可被信任。「预言机」的目的就是提供「**验证来自区块链外部的数据**」这样一个功能，解决掉
这个信任问题。所以预言机也被称为 Validator 验证器。

理想情况下，预言机提供了一种无需信任（或至少接近于无需信任）的方式来获取外部（链外）信息，例如足球比
赛的结果、黄金价格或真正的随机数，放到以太坊平台上供智能合约使用。它们还可用于直接将数据安全地中继到
DApp 前端。因此，**预言机可以说是一种弥合链下世界和智能合约之间差距的机制**。 **允许智能合约根据现实
世界的事件和数据强制执行合同关系，大大拓宽了它们的范围。然而，这也可能给以太坊的安全模型带来外部风
险**。考虑一个「智能意志」合同，当一个人去世时分配资产。这是智能合约领域经常讨论的问题，并突出了可信
预言机的风险。如果这样的合约控制的继承量足够高，那么在所有者死亡之前破解预言机并触发资产分配的动机就
非常高。

预言机能提供的数据举例：

- 随机数或者熵
- 汇率：可用于将加密货币与法币挂钩
- 资本市场数据：比如股票、债权数据
- 基准参考数据：例如，将利率纳入智能金融衍生品
- 静态/伪静态数据：安全标识符、国家代码、货币代码等。
- 时间和间隔数据：用于基于精确时间测量的事件触发
- 天气数据：例如，基于天气预报的保险费计算
- 政治、体育等社会事件：可用于赌博压注
- 地理位置数据：例如，用于供应链跟踪
- 损坏验证：用于保险合同
- 其他区块链上发生的事件：提供区块链之间的互操作性
- 以太市场价格：例如，对于法定天然气价格的预言机
- 航班统计：例如，被团体和俱乐部用于机票合并

总的来说，预言机为智能合约提供了一项至关重要的服务：**它们将外部数据带入到合约中**。当然，**预言机也
带来了重大风险**——如果它们是受信任的来源并且可能受到损害，它们可能会导致它们提供的智能合约的执行受到
损害。

通常，在考虑使用预言机时，要非常小心信任模型。如果您假设预言机可以信任，您可能会通过将智能合约暴露于
潜在的错误输入来破坏智能合约的安全性。也就是说，如果仔细考虑安全假设，预言机可能非常有用。

后面介绍的 chainlink 等去中心化的预言机可以解决其中的一些问题，并提供以太坊智能合约无需信任的外部数
据。仔细选择，您就可以开始探索以太坊与预言机提供的“现实世界”之间的桥梁。

### 预言机实现模式

所有的预言机都至少有如下核心组件：

- 数据采集与验证系统：从链外世界收集数据，完成数据的验证，并对数据进行签名。
- 一个特殊的智能合约，提供如下接口
  - 数据上传接口：将已验证的数据及签名，通过这个合约接口提交数据到链上，数据之后被保存在智能合约内
    部。
  - 数据拉取接口 `retrieve`：其他合约可以通过这个接口，从预言机中获取经过验证的链下数据。

预言机的工作模式有这几种：

- 即时：在需要数据时，才采集数据到链上
- 发布-订阅：持续地采集消息，谁需要数据就可以订阅它
- 请求-响应：最复杂的模式，通常用于请求非常大的数据集中很小的一块。大的数据集不适合存放在链上，因此
  需要预言机。
- 其他模式：比如直接从另一个 EOA 账户获取数据

### 预言机如何进行消息认证

集中式的预言机该如何认证消息呢？有这几种实现：

- 基于一个第三方的审计者：这需要确保第三方的审计者是可信的，比如数字证书体系就是这么玩的
- 基于可信硬件 TEE：比如 Intel SGX 可信执行环境

### 用于计算的预言机

预言机不仅可用于收集与传输链外数据，实际上它还可用于计算。EVM 实际上是一台性能非常低下的单线程计算
机，不适合用于进行繁重的计算。通过预言机，我们可以在链下世界进行这些复杂繁重的计算，然后再将结果传输
到区块链上，解决了区块链性能差、计算代价（Gas）高的问题。

### 去中心化预言机

一个去中心化的预言机网络（Decentralized Oracle Networks, DON），避免了集中式预言机的单点故障问题。

- https://github.com/smartcontractkit/chainlink

## 去中心化存储

> https://ethereum.org/en/developers/docs/storage/

前面提到一个事实：因为 IO 性能与节点存储空间的限制，「我们不可能把所有数据都存放在以太坊区块链上」。

因此区块链的智能合约（比如 NFT），需要其他专门设计的去中心化存储系统：

- [IPFS](https://ipfs.io/)
- [SWARM](https://www.ethswarm.org/)

## DApp 去中心化 App

DApp 即去中心化应用程序，由 DApp 构成的网络世界被称为 Web3.0，以区别于当下的 Web2.0.

Web3.0 的三项核心技术：

- 前端 APP 程序
  - 可以是中心化的 Web 站点
  - 也可以是客户端 App，每个设备上都需要安装一份，这样就没用单点故障问题了
- 去中心化的后端
  - 以太坊智能合约
  - 去中心化存储: IPFS/Swarm 是两种常用的去中心化（P2P）存储方案
  - 可能会用到预言机来在链下进行繁重的计算任务，或者从链下获取数据。如果设计不当这里会存在风险。
- 进程间通信：一个普通的 App 通常会用到许多进程间或线程间的通信技术，在以太坊世界中对应的协议是
  [Whisper](https://eth.wiki/concepts/whisper/whisper)，它是 Go-Ethereum 开发套件的一部分。
- 去中心化名称解析
  - 每个账户或合约都有一个唯一的地址比如 0xfB6916095ca1df60bB79Ce92cE3Ea74c37c5d359，这显然不够友
    好、基本没人能记得住。
  - ENS 提供了为以太坊地址取别名的能力，比如前面给出的地址就拥有 ENS 名称 ethereum.eth，这个就很好记
    了
  - ENS 类似 Web2.0 的 DNS 系统，但是是去中心化的
  - ENS 本身就是一个 DApp，提供了去中心化名称服务

DApp 的优势是：

- 后端运行在区块链上，永远不会宕机
- 程序的运行完全透明，所有执行过程都记录在区块链上
- 程序后端不受任何人控制，没有人有能力关闭这个 DApp.

以太坊社区目前存在的 DApp 还非常少，而且其中不少还是「伪 DApp」，也就是说它们的许多组成部分其实仍然
是中心化的。理想情况下一个 DApp 的所有组成部分应该都是去中心化的，以太坊社区也正在往这个方向发展。

## 去中心化金融 DeFi

DeFi: 去中心化金融（Decentralized Finance），基于以太坊的金融智能合约组成的 Dapp

不同于过去中心化的传统金融需要许多中介机构如银行、保险业者、证券交易所的参与，并且对本人进行身份认
证，才能让客户进行买卖交易、抵押借贷、保险赔付等金融商品的购买及使用；DeFi 利用了区块链的技术，完全
解决了身份认证的麻烦以及因为中介机构参与而产生的额外成本支出这两个问题，同时也在这个基础上，逐渐发展
出有别于传统金融的金融商品，而开始受到追捧，本文我们将解释 DeFi 是如何解决传统金融的问题以及为何会受
到欢迎。

在区块链上，私钥就是帐户，不同的私钥就代表不同的帐户，透过随机产生的私钥，使用者可以无限制的生成帐
户，而只要透过私钥签名的交易，就代表了这个帐户同意这笔交易。因此在区块链上没有身份认证的需求，任何人
只要拥有这把私钥，就可以调用这把私钥对应的资产，这个机制避免身份认证的繁琐过程，更让整个生态圈真正达
成了所谓的平等，区块链不会因为个人资产的多寡、职业身份及年龄限制，而给予用户不同的身份或 VIP 等级，
只要有一把随机生成的私钥，用户就是这个私钥帐户的拥有者、就可以参与 DeFi，也就是参与去中心化金融。

再者，区块链本身底层靠着分散式的帐本跟系统，达成了去中心化的目的，任何人都可以下载区块链帐本、都可以
协助记帐，当然，如今记帐挖矿需要硬体配合，需要大量电力，但绝非不可跨越的门槛。而有了去中心化系统的底
层架构，让任何交易都不受中心化的控制，更减少了中心化系统中因为需要人工介入而产生的成本跟速度瓶颈，当
配合上特定区块链如以太坊所提供的智能合约机制，更让如借贷、抵押、保险、众筹等金融商品与衍生品随之而
生。

智能合约是在区块链上执行的程式语言，透过部署智能合约，任何人都可以完成许多金融商品的开发，从简单的对
赌协议，到复杂的去中心化交易所，甚至不同的金融衍生品还可以组合所谓的 DeFi 乐高，比如用户可以在金融商
品 A 先用手上多余的以太坊借到一些稳定币，再用稳定币进行放贷赚取利息或增加流动池赚取价差。由于所有金
融合约在区块链上的交易都是透明的，甚至需要通过安全审核的合约，连源码都必须是公开可查看的，最大程度避
免了黑箱交易。

因此 DeFi 可以说就是万无一失，绝对低风险高报酬的金融产品了吗？不，尽管现在许多以太坊的 DeFi 项目，其
价值一直在爆炸式的翻倍增长，有许多用户也因此赚到不少钱，但在开始投资之前，如何区别一个好的安全的项
目，就已经让许多人栽了跟头，接踵而来包含钱包的安全、如何操作购买正确的金融衍生品等，又会刷掉一批又一
批的使用者。

### 稳定币 Stablecoin

以 ETH 与 BTC 为首的非稳定币性质类似股票，随着交易的变动，它们的价值随时都可能发生巨大的变化。

而在实际的交易过程中，我们当然是希望使用价值比较稳定的币种进行交易。为此出现了稳定币.

以法定货币支持的稳定币:

- Tether 发行的 USDT、Coinbase 发行的 USDC: 承诺每在链上发行一枚稳定币，就会在相应的银行帐户存入一美
  金，以确保所有的稳定币都可以 1:1 的兑换成美金法币
  - 加密货币交易中最受欢迎的币种
  - 潜在风险是，发行商的承诺是否可信，以及发行商是否有足够的资金储备

以加密货币支持的稳定币:

- DAI: 同样希望与美元能够 1:1 挂钩，但它并没有采用法定货币支持的方式，而是靠着在以太坊上发行的智能合
  约，配合以加密货币作为超额抵押品来发行，也就是每当智能合约发行一个 DAI 时，就代表一定有超过一个
  DAI 价值的加密货币作为抵押品被抵押，当该加密货币的市场价值下跌时，智能合约会自动启动清算机制卖掉抵
  押品，借此来确保 DAI 的价格稳定。
  - 由于 DAI 的发行、回收跟销毁并不受任何团体跟个人的控制，与第一种法币支持的稳定币相比，你不用特别
    去相信当稳定币发行时，是否真的有等值的美金被存入，因为每一个 DAI 的发行，对应的就是一个抵押品作
    为担保。
  - 但是由于市场变动过快，实际上很可能会出现因为暴跌等情况来不及执行清算产生损失。因此当初创建 DAI
    的基金会 Maker 在发行 DAI 的同时也发行了另一种加密货币 MKR，其功用就是在 DAI 发生不可预期的损失
    时用 MKR 补偿，比如 2020年3月因为以太币短时间暴跌，使得 DAI 产生了 400 万美元的亏损，当时就是靠
    着增发 MKR 来弥补的损失。
  - 许多的交易所都不支持 DAI，但以当前的去中心化的稳定币而言，DAI 无疑扮演了相当重要的角色。
- Diem(曾用名 Libra): Facebook 开发的加密货币，此项目已被放弃。

### DEX 去中心化交易所

说到去中心化交易所，我们先从大家比较熟悉的中心化交易所开始。

中心化交易所的买卖方式类似于过去的证券现货交易，用户必须先有个开户的流程。在中心化加密货币交易所交
易，这个流程全部都是网路作业，用户要先到交易所的平台网页注册，不管是采用电子邮件或电话注册，在完成注
册后就会开始进行 KYC (Know Your Customer) 身份验证，通过 KYC 后才能开始加密货币交易。不过由于各国法
规不同，加上每家交易所策略也不尽相同，有些交易所在你进行完电子邮件或电话注册后，就可以让你开始进行币
币交易 (使用加密货币买卖)，但若要进行到法币交易(使用法币进行买卖)，基本都是需要通过完整的 KYC 验证。
整个 KYC 过程中除了需要提供如身份证件、居住地址证明、绑定银行帐户，同时还要经过三到七天不等的审查，
审查通过后，交易所才会让你开始进行交易。

目前多数中心化交易所都有提供两种交易模式，第一种是币币交易，用户不管是因为挖矿、场外交易、或方式取得
加密货币，都可以先把加密货币充值到中心化交易所提供给你的个人帐户地址，将手中的加密货币转移到该帐户
后，就可以用加密货币进行买卖，例如短线看空 BTC ，就把 BTC 换成 USDT ，等行情好时再换回。而更多用户采
用的是法币交易，也就是利用交易所跟你绑定的银行帐号，充值法币以后去购买 BTC 或 ETH 再来进行各种加密货
币买卖。

买卖的过程靠的是挂单跟吃单，你可以把你手中的加密货币挂单为你想要的价格卖出，等候觉得价格合适的人去吃
单，也可以随时买入别人的挂单，如果同时有多笔相同价格的挂单，就会按照交易所设定好的逻辑帮你搓合。

最后当你想获利了结时，你随时可以把买卖所得的加密货币或法币提领到你个人钱包或银行帐户，但由于充值到中
心化交易所的加密货币或法币，实际上一直到提领之前，加密货币都是由中心化交易所保管，法币是由中心化交易
所合作的银行保管，你个人在交易所中显示的任何资产，其实都仅是交易所资料库显示出来的数据，因此提领资产
时，加密货币的部分都会由中心化交易所进行审核，法币部分会由交易所跟银行审核，因此提领速度通常都会受
限，加密货币一般可以在几分钟到几小时不等，法币则会在几小时到几天不等。

由上可知，中心化交易所其实面临许多问题，一、繁琐的 KYC 验证过程使用户退却，二、中心化保管资产可能造
成交易所一旦被盗，用户资产就会因此产生损失，三、交易所的搓合引擎常因不够透明，遭用户质疑挂单吃单不在
自己设定范围，四、提领过程的漫长等候，这些都是中心化交易所无法避免的问题。

去中心化交易所利用智能合约，将交易所中的买卖逻辑撰写在智能合约中上链，开源的程式码与区块链天生的私钥
即帐户的功能，赋予了去中心化交易所解决这些问题的能力。

一、由于私钥即帐户，任何人只要下载钱包，创建私钥，就可以拥有帐户开始进行交易，保护了个人隐私也省去了
验证身份的繁琐流程。

二、没有中心化保管资产的需求，买卖上链，资产随时保存在用户自己的钱包，减少了中心化被攻击时可能产生的
资产损失。

三、买卖逻辑、过程都公开透明，可以在链上查询，避免被质疑暗箱交易的可能。

四、最后，因为买卖即时到帐，资产就放在用户自己的钱包里，不会有提领延误，等后审查等问题。

因为上述种种优点，DEX (去中心化交易所) Uniswap 在 2020 年 9 月的单日交易量超越了中心化交易所
Coinbase 达到单日 4.26 亿美元，而后在 2021 年 3 月 PancakeSwap 更超越了 Uniswap ，双双都突破了单日
10 亿美元的关口，这在在显示了 DEX 所蕴含的惊人潜力，但在这之中，DEX同样也有无法避免的弱点存在。

一、交易手续费高昂，由于所有挂单吃单都在链上，任何要上链的讯息都需要手续费，目前因为 ETH 币价高涨，
燃料费也是水涨船高，几乎单笔操作的手续费都在 30 美金以上，如此高的手续费，已经让不少人望之却步。也是
因为如此，在币安智能链上推出的Pancakeswap 才能趁势崛起，利用低廉的手续费抢占 ETH 上 Uniswap 的市场，
只是因为币安智能链是由币安推出，并非完全去中心化的区块链，因此仍有不少人处于观望的阶段，但手续费无疑
是任何去中心化交易所都必须面对的一道坎。

二、无法兑换成法币，目前去中心化交易所无法直接将你的加密货币兑换成法币，对于有现金需求的用户来说，仍
旧必须透过诸如中心化交易所才能串起现金流。

三、由于用户必须自己保管资产，对于钱包安全必须格外重视，虽然没有了身份验证的门槛，但如果缺乏对钱包、
私钥的安全管理知识，反而更容易出现所有资产一夕被盗的情况发生。

以上来说，DEX (去中心化交易所) 与 CEX (中心化交易所) 的优缺点都是显而易见，读者不管使用哪个管道进行
理财投资，建议都要先从熟悉该产品的各种好坏开始，避免一开始就进行大额投资，确保资产安全。

### Lending 去中心化借贷平台

所谓借贷，是指用有价值物作为抵押，借取现金的金融行为，而加密货币借贷就是专指将加密货币作为抵押品，借
出如稳定币或其他加密货币的金融行为。

在加密货币市场，借贷是十分常见的操作，比如你手上持有 ETH，于此同时你又看好 BTC，怎么样同时进行投资
呢？把 ETH 作为抵押品先到借贷平台借到稳定币，再用稳定币去购买 BTC，当 BTC 跟 ETH 都上涨时，你就可以
同时在两种加密货币上面获利，而于此同时只需要付出借贷稳定币的利息。

如果市场价格下跌，造成借款人的抵押品价值低于借出资产的一定比例时，借贷平台就会进行抵押品清算，清算后
的资产会连同放款人应得的利息一起还给放款人。

在借贷行为里，除了有借款人，还有放款人，借款人靠借来的资金再投资获利，而放款人则靠借款人付出的利息获
利。不同于过去放贷由银行、当铺等单位掌控，加密货币领域有许多平台提供给一般用户由他们来当放款人，平台
只会抽取利息中一定比例作为平台维护费用。

目前这样的借贷平台与先前提到的加密货币交易所相同，也有中心化跟去中心化平台的分别。

中心化借贷平台大致分为两类，一种是以 Bitfinex 为代表的 P2P 平台，放款人把资金按想要的利率、金额跟时
间挂单，借款人可以按单决定是否借贷，同样的，借款人也可以把想借的金额、利率挂单，放款人决定是否吃单，
把钱借出去。Bitfinex 在这中间除了帮忙搓合，还会在市场价格下跌，借款人抵押品价值低于一定比例时，自动
把借款人的抵押品卖出，获得的资金就会支付放款人的本金跟利息。

另一种则是以 Nexo、Celsius 为主的 B2C 平台借贷，放款人把资金委托给平台，平台自行寻找借款人并提供放款
人固定的利率，平台从中赚取利差，比如平台固定给提供放款人 8% 利率，但从借款人身上取得 9% 的利息，中间
的 1% 就由平台赚取。这样的平台因为会吃到一部分放款人的收益，利率通常都是低于 P2P 平台的，但好处是放
款人可以随时停止放贷，提走资金，而在 P2P 平台上的放款，在没有到借款人设定的借币日期前，放款人的资金
都是动不了的。

而不管是上面哪一类的借贷平台，由于是中心化平台，免不了就会有与中心化交易所类似的问题，一、使用前要进
行注册，需要繁琐的身份认证，二、资产必须转移到中心化平台，由平台管理及协助搓合放贷，平台是否安全以及
平台能否一视同仁的处理所有放贷行为就格外重要，三、提款时由于会从中心化平台转出，因此时常会有延误发
生，特别是 B2C 平台为了避免客户大量挤兑提款的问题发生，又要兼顾放款效益，时常会限制用户提款的数额跟
时间。

相对于此，以Compound、dYdX为首的去中心化借贷平台，尝试以区块链去中心化的特性，在解决这些问题的同时提
供服务。

首先相较于繁琐的注册认证流程，去中心化借贷平台无需任何认证，放款人只需要有一个钱包可以跟平台的智能合
约沟通，就可以开始放贷，解决了身份认证的问题。

再者，去中心化借贷的类型其实是与 B2C 类似的，放款人的资产存入流动性池，由智能合约协助进行放贷。不同
的是它的所有借贷、利率、总委托金额等讯息都是在链上公开的，透明的资讯可以让放款人知道目前利率的状态，
不会出现因为平台介入或人工操作，造成放款人的放贷没有成功，或因为利率计算由平台掌握，造成到帐利息不符
预期的情况。

最后，去中心化借贷是可以随时提领没有提款限制的，因为供给跟需求的透明化，在供给量减少时，利率自然提
高，就会让更多放款人加入，降低了挤兑的问题，借此也解决了 B2C 与 P2P 中心化平台的提领问题。

但解决上述问题的同时，去中心化借贷也有它的问题存在，一、钱包就是帐户，因此钱包安全变得格外重要，用户
必须知道对于钱包跟私钥，要如何正确进行保护跟备份，避免任何安全意外造成资产损失，这中间的门槛或许更高
于身份认证。

二、因为所有讯息包含智能合约的代码都是公开的，尽管有些人认为公开代码有助于寻找漏洞解决问题，但确实有
不少去中心化放贷合约因此更容易被找到漏洞，遭受攻击，用户在选择去中心化平台放贷时，除了平台利率，更要
记得从平台可靠度，是否通过安全审核，是否有保险可以在被骇后进行赔付等角度都进行评估，以免赚了利息赔了
本金。

三、尽管随时可以提领，但目前去中心化借贷主要还是以以太坊为主，动辄30~50美金的高昂矿工费，更是放款人
需要时刻注意，避免获利都被拿来付了矿工费情况。

以上来说，去中心化借贷与中心化借贷的优缺点都是显而易见，读者不管使用哪个管道进行理财投资，建议都要先
从熟悉该产品的各种好坏开始，避免一开始就进行大额投资，确保资产安全。

## 去中心化自治组织 DAO

DAO（Decentralized Autonomous Organization）

## 参考

路线图：

- https://github.com/OffcierCia/DeFi-Developer-Road-Map
- https://github.com/dcbuild3r/blockchain-development-guide

其他：

- [知识中心 - Cybavo](https://www.cybavo.com/zh-cn/knowledge-center/)
